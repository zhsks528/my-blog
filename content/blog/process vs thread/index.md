---
title: "프로세스와 스레드"
date: "2020-09-06T16:54:55.335Z"
category: "cs"
emoji: "🖥️"
---

## 프로세스와 스레드

> 프로세스 : 운영체제로부터 자원을 할당 받아 실행된다.
>
> 스레드 : 프로세스로부터 자원을 할당받아 병렬적으로 실행된다.

### 1. 프로세스정의

![process](https://user-images.githubusercontent.com/38130934/92361616-9c82ea80-f129-11ea-971d-be9718e8edc8.png)

- 프로세스는 **실행 중인 프로그램**으로 **디스크로부터 메모리에 적재되어 CPU의 할당을 받을 수 있는 것**을 말한다.

### 2. 프로세스특징

- 프로세스는 각각 독립된 **메모리 영역(Code, Data, Stack, Heap의 구조)을 할당**받는다.
- 기본적으로 프로세스당 **최소 1개의 스레드(메인 스레드)를 가지고 있다.**
- **각 프로세스는 별도의 주소 공간에서 실행**되며, 한 프로세스는 다른 프로세스의 변수나 자료 구조에 접근할 수 없다. (독립된 개체)
- **한 프로세스가 다른 프로세스의 자원에 접근하려면 프로세스 간의 통신(IPC, inter-process communication)을 사용**해야한다.
  - **파이프, 파일, 소켓** 등을 이용한 통신 방법 이용

### 3. 스레드정의

![thread](https://user-images.githubusercontent.com/38130934/92361619-9db41780-f129-11ea-9a4c-00c56b4beae3.png)

- **프로세스 내에서의 작업 단위로서 시스템의 여러 자원을 할당받아 실행하는 프로그램의 단위**
- 프로세스 내에서 실행되는 흐름

### 4. 스레드특징

- **스레드는 프로세스 내에서 각각 Stack만 따로 할당받고 Code, Data, Heap 영역은 공유**한다.
- 스레드는 한 프로세스 내에서 동작되는 여러 실행의 흐름으로, 프로세스 내의 주소 공간이나 자원들을 같은 프로세스 내에 스레드끼리 공유하면서 실행된다.
- 같은 프로세스 안에 있는 여러 스레드들은 같은 힙 공간을 공유한다. 반면에 프로세스는 다른 프로세스의 메모리에 직접 접근할 수 없다.
- 각각의 스레드는 별도의 레지스터와 스택을 갖고 있지만, 힙 메모리는 서로 읽고 쓸 수 있다.
- **한 스레드가 프로세스 자원을 변경하면, 다른 이웃 스레드도 그 변경 결과를 즉시 볼 수 있다.**

### 5. 스레드의 장점

- 하나의 프로세스를 여러 개의 스레드로 생성하여 **병행성을 증진**시킬 수 있다.
- 하드웨어, 운영체제의 성능과 응용 프로그램의 **처리율을 향상**시킬 수 있다.
- **실행 환경을 공유시켜 기억장소의 낭비가 줄어든다.**
- **프로세스들 간의 통신이 향상된다.**
- 스레드는 공통적으로 접근 가능한 기억장치를 통해 효율적으로 통신한다.

### 6. 정리

|        차이        |                           프로세스                           |                            스레드                            |
| :----------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| **자원 할당 여부** |                실행 시마다 새로운 자원을 할당                |             자신을 실행한 프로세스의 자원을 공유             |
| **자원 공유 여부** | 일반적으로 자원을 공유하지 않는다. <br />같은 프로그램의 프로세스일 경우 코드를 공유하기는 한다. | 같은 프로세스 내 스레드들은 스택을 제외한 나머지 세 영역을 공유한다. |
|  **독립성 여부**   |                      일반적으로 독립적                       |               일반적으로 프로세스의 하위 집합                |
| **주소 소유 여부** |                  별개의 주소 공간을 갖는다                   |                    주소 공간을 공유한다.                     |
|   **통신 여부**    |          오직 시스템이 제공하는 IPC 방법으로만 통신          |        공유 변수 수정 등 자유롭게 다른 스레드와 소통         |
| **Context Switch** | 일반적으로 프로세스보다 스레드의 Context Switching이 더 빠를 수 있다. |          하지만 상황에 따라 그렇지 않을 수도 있다.           |

### 7. 참고 자료

- [프로세스와 스레드](https://gmlwjd9405.github.io/2018/09/14/process-vs-thread.html)

- [Process와 Thread의 차이](https://shoark7.github.io/programming/knowledge/difference-between-process-and-thread)